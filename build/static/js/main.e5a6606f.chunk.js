/*! For license information please see main.e5a6606f.chunk.js.LICENSE.txt */
(this["webpackJsonpxon-frontend"]=this["webpackJsonpxon-frontend"]||[]).push([[0],{393:function(e,t,a){},394:function(e,t,a){"use strict";a.r(t);var n,r,i,s,c,l,o,d,u,j,m,b,x,h,g,O,p,v,f,y=a(412),N=a(1),S=a.n(N),w=a(51),M=a.n(w),C=a(13),k=a(92),_=a(257),I=a(404),P=a(414),A=a(415),T=a(238),L="xon-token",B=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,q=a(235),G=a(79),$=localStorage.getItem(L),E=Object(k.c)(Boolean($)),D=Object(k.c)($),F=new q.a({uri:"wss://xon-backend.herokuapp.com/graphql",options:{reconnect:!0,connectionParams:{"x-jwt":D()||""}}}),z=Object(_.a)({uri:"https://xon-backend.herokuapp.com/graphql"}),U=Object(T.a)((function(e,t){var a=t.headers;return{headers:Object(C.a)(Object(C.a)({},a),{},{"x-jwt":D()||""})}})),V=Object(I.a)((function(e){var t=e.query,a=Object(G.e)(t);return"OperationDefinition"===a.kind&&"subscription"===a.operation}),F,U.concat(z)),K=new P.a({link:V,cache:new A.a({typePolicies:{Query:{fields:{isLoggedIn:{read:function(){return E()}},token:{read:function(){return D()}}}}}})}),R=a(411),X=a(29),H=a(15),Q=a(14),J=a(16),Z=a(408),W=a(17),Y=a(2),ee=function(e){var t=e.name,a=e.coverImg,n=e.countryName,r=e.id,i=e.address;return Object(Y.jsx)(X.b,{to:"/shareMusle/".concat(r),children:Object(Y.jsxs)("div",{className:"flex flex-col",children:[Object(Y.jsx)("div",{style:{backgroundImage:"url(".concat(a,")")},className:"bg-red-600 rounded-lg py-40 bg-cover bg-center transform hover:scale-105 transition"}),Object(Y.jsx)("h3",{className:"lg:text-white text-xl mt-2",children:t}),Object(Y.jsx)("div",{className:"lg:text-white opacity-70 text-base",children:i}),Object(Y.jsx)("span",{className:"lg:text-gray-300 border-t-2 lg:border-gray-400 pt-2 border-gray-200 text-xs mt-2",children:n})]})})},te=a(38),ae=Object(W.a)(n||(n=Object(J.a)(["\n fragment ShareMusleParts on ShareMusle {\n    id\n    name\n    address\n    coverImg\n    country{\n        name\n    }\n    isPromoted\n }\n"]))),ne=Object(W.a)(r||(r=Object(J.a)(["\n fragment CountryParts on Country{\n     id\n     name\n     coverImg\n     slug\n     shareMusleCount\n }\n"]))),re=Object(W.a)(i||(i=Object(J.a)(["\n fragment DishParts on Dish{\n     id\n     name\n     price\n     photo\n     description\n     options{\n         name\n         extra\n         choices{\n             name\n             extra\n         }\n     }\n }\n"]))),ie=Object(W.a)(s||(s=Object(J.a)(["\n fragment OrderParts on Order{\n     id\n     total\n     createdAt\n }\n"]))),se=Object(W.a)(c||(c=Object(J.a)(["\n fragment OrderFull on Order{\n    id\n    status\n    total\n    driver{\n        email\n    }\n    customer{\n        email\n    }\n    shareMusle{\n        name\n    }\n }\n"]))),ce=a(26),le=Object(W.a)(l||(l=Object(J.a)(["\n query shareMuslesPageQuery($input: ShareMuslesInput!){\n    allCountries{\n        ok\n        error\n        countries{\n            id\n            name\n            coverImg\n            slug\n            shareMusleCount\n        }\n    }\n    allShareMusle(input: $input){\n        ok\n        error\n        totalResults\n        totalPages\n        results{\n            ...ShareMusleParts\n        }\n    }\n }\n ","\n"])),ae),oe=function(){var e,t,a=Object(N.useState)(1),n=Object(Q.a)(a,2),r=n[0],i=n[1],s=Object(Z.a)(le,{variables:{input:{page:r}}}),c=s.data,l=s.loading,o=Object(H.f)(),d=Object(te.a)(),u=d.register,j=d.getValues,m=d.handleSubmit;return Object(Y.jsxs)("div",{className:"lg:bg-gray-600 h-screen",children:[Object(Y.jsx)(ce.a,{children:Object(Y.jsx)("title",{children:"Home | XON"})}),Object(Y.jsx)("form",{className:"flex w-full justify-center items-center py-16 lg:py-28 bg-gray-100 lg:bg-gray-800",onSubmit:m((function(){var e=j().searchTerm;o.push({pathname:"/search",search:"?term=".concat(e)})})),children:Object(Y.jsx)("input",Object(C.a)(Object(C.a)({},u("searchTerm",{minLength:1})),{},{type:"search",placeholder:"Search ShareMusles...",className:"searchInput"}))}),!l&&Object(Y.jsx)("div",{className:"lg:bg-gray-700",children:Object(Y.jsxs)("div",{className:"max-w-screen-2xl mx-auto px-5 lg:px-20 pt-5 lg:pt-10 lg:bg-gray-00 pb-24",children:[Object(Y.jsx)("div",{className:"overflow-x-auto",children:Object(Y.jsx)("div",{className:"flex justify-evenly max-w-xs lg:max-w-screen-sm mx-auto ",children:null===c||void 0===c||null===(e=c.allCountries.countries)||void 0===e?void 0:e.map((function(e){return Object(Y.jsx)(X.b,{to:"/country/".concat(e.slug),children:Object(Y.jsxs)("div",{className:"flex flex-col items-center cursor-pointer group",children:[Object(Y.jsx)("div",{className:"bg-cover w-10 h-10 text-5xl rounded-full text-center group-hover:opacity-60 transition",children:e.coverImg}),Object(Y.jsx)("span",{className:"mt-1 pl-3 text-sm text-center font-medium lg:text-white",children:e.name})]},e.id)},e.id+"")}))})}),Object(Y.jsx)("div",{className:"grid lg:grid-cols-4 gap-10 mt-10 grid-cols-1",children:null===c||void 0===c||null===(t=c.allShareMusle.results)||void 0===t?void 0:t.map((function(e){var t;return Object(Y.jsx)(ee,{address:e.address,id:e.id+"",countryName:(null===(t=e.country)||void 0===t?void 0:t.name)+"",name:e.name,coverImg:e.coverImg},e.id)}))}),Object(Y.jsxs)("div",{className:"grid grid-cols-3 max-w-sm mx-auto text-center lg:text-white mt-10",children:[r>1?Object(Y.jsx)("button",{onClick:function(){return i((function(e){return e-1}))},children:"\u2190"}):Object(Y.jsx)("div",{}),Object(Y.jsxs)("span",{className:"text-sm",children:[" The Page ",r," of ",null===c||void 0===c?void 0:c.allShareMusle.totalPages]}),r===(null===c||void 0===c?void 0:c.allShareMusle.totalPages)?Object(Y.jsx)("div",{}):Object(Y.jsx)("button",{onClick:function(){return i((function(e){return e+1}))},children:"\u2192"})]})]})})]})},de=function(){return Object(Y.jsxs)("div",{className:"h-screen flex flex-col items-center lg:justify-center lg:bg-gray-700 lg:text-white",children:[Object(Y.jsx)(ce.a,{children:Object(Y.jsx)("title",{children:"Not Found | XON"})}),Object(Y.jsxs)("div",{className:"w-full text-center px-5 mt-10 lg:mb-10",children:[Object(Y.jsx)("h2",{className:"text-2xl font-semibold mb-3 ",children:"Page Not Found"}),Object(Y.jsx)("h4",{className:"text-base font-medium mb-5",children:" The page you're looking for does not exist or has moved."}),Object(Y.jsx)(X.b,{to:"/",className:"text-indigo-500 lg:text-yellow-200 hover:underline",children:"Go back home \u2192"})]})]})},ue=a(148),je=a(115),me=a(74),be=Object(W.a)(o||(o=Object(J.a)(["\n query meQuery{\n     me{\n         id\n         email\n         role\n         verified\n         countrySelect \n     }\n }\n"]))),xe=function(){return Object(Z.a)(be)},he=function(){var e=xe().data;return Object(Y.jsxs)(Y.Fragment,{children:[(null===e||void 0===e?void 0:e.me.verified)&&Object(Y.jsx)("div",{className:"bg-yellow-50 flex justify-center py-3 items-center",children:Object(Y.jsx)("span",{className:"text-blue-600 text-xs font-semibold",children:"XON AI is checking your email"})}),Object(Y.jsx)("div",{className:"lg:bg-pink-300",children:Object(Y.jsxs)("div",{className:"w-full flex justify-between items-center lg:text-white max-w-screen-3xl mx-auto py-2 px-5 lg:px-10",children:[Object(Y.jsx)(X.b,{to:"/",children:Object(Y.jsx)(me.a,{icon:ue.a,className:"text-2xl text-pink-700"})}),Object(Y.jsx)(X.b,{to:"/edit-profile",className:"bg-pink-700 px-3 py-1 rounded-2xl",children:Object(Y.jsx)(me.a,{icon:je.c,className:"text-xl"})})]})})]})},ge=a(409),Oe=a(419),pe=function(e){var t=e.canClick,a=e.loading,n=e.actionText;return Object(Y.jsx)("button",{className:"button mt-2 py-2 text-lg ".concat(t?"bg-indigo-500 hover:bg-indigo-600":"bg-gray-500 pointer-events-none"),children:a?"Loading":n})},ve=function(e){var t=e.errorMessage;return Object(Y.jsx)("span",{className:"error",children:t})},fe=a(149),ye=Object(W.a)(d||(d=Object(J.a)(["\n mutation editProfile($input: EditProfileInput!){\n    editProfile(input: $input){\n        ok\n        error\n    }\n }\n"]))),Ne=function(){var e,t,a,n=Object(ge.a)(),r=xe().data,i=Object(Oe.a)(ye,{onCompleted:function(e){if(e.editProfile.ok&&r){var t=r.me.email,a=O().email;t!==a&&n.writeFragment({id:"User:".concat(r.me.id),fragment:Object(W.a)(u||(u=Object(J.a)(["\n                    fragment EditedUser on User {\n                        verified\n                        email\n                    }\n                    "]))),data:{email:a,verified:!1}})}}}),s=Object(Q.a)(i,2),c=s[0],l=s[1],o=l.data,d=l.loading,j=Object(te.a)({mode:"onChange",defaultValues:{email:null===r||void 0===r?void 0:r.me.email}}),m=j.register,b=j.handleSubmit,x=j.formState,h=x.errors,g=x.isValid,O=j.getValues;return Object(Y.jsx)("div",{className:"h-screen lg:bg-gray-700 flex flex-col lg:justify-center items-center",children:Object(Y.jsxs)("div",{className:"w-full max-w-screen-sm flex flex-col items-center lg:mb-3D2",children:[Object(Y.jsx)(fe.a,{children:Object(Y.jsx)("title",{children:"edit-profile | XON"})}),Object(Y.jsx)("h2",{className:"lg:text-white text-3xl font-semibold mb-6",children:"Edit Your Profile"}),Object(Y.jsxs)("form",{className:"w-full grid gap-3 px-5",onSubmit:b((function(){var e=O(),t=e.email,a=e.password;c({variables:{input:Object(C.a)({email:t},""!==a&&{password:a})}})})),children:[Object(Y.jsx)("input",Object(C.a)({className:"input",type:"email",placeholder:"example@eample.com"},m("email",{pattern:B}))),(null===(e=h.email)||void 0===e?void 0:e.message)&&Object(Y.jsx)(ve,{errorMessage:h.email.message}),Object(Y.jsx)("input",Object(C.a)({className:"input",type:"password",placeholder:"password"},m("password",{minLength:3}))),(null===(t=h.password)||void 0===t?void 0:t.message)&&Object(Y.jsx)(ve,{errorMessage:h.password.message}),"minLength"===(null===(a=h.password)||void 0===a?void 0:a.type)&&Object(Y.jsx)(ve,{errorMessage:"Password must be more than 3 chars."}),Object(Y.jsx)(pe,{canClick:g,loading:d,actionText:"Save Profile"}),(null===o||void 0===o?void 0:o.editProfile.error)&&Object(Y.jsx)(ve,{errorMessage:o.editProfile.error}),Object(Y.jsx)("button",{className:"text-center py-2 font-medium tracking-wide bg-yellow-100 rounded-lg",onClick:function(){E(!1),localStorage.removeItem(L)},children:"Log Out"})]})]})})},Se=Object(W.a)(j||(j=Object(J.a)(["\n mutation verifyEmailMutation($input:VerifyEmailInput!){\n    verifyEmail(input: $input){\n        ok\n        error\n    }\n }\n"]))),we=function(){var e=Object(H.f)(),t=xe().data,a=Object(ge.a)(),n=Object(Oe.a)(Se,{onCompleted:function(n){n.verifyEmail.ok&&(null===t||void 0===t?void 0:t.me.id)&&(a.writeFragment({id:"User:".concat(t.me.id),fragment:Object(W.a)(m||(m=Object(J.a)(["\n            fragment VerifiedUser on User {\n              verified\n            }\n          "]))),data:{verified:!0}}),e.push("/"))}}),r=Object(Q.a)(n,1)[0];return Object(N.useEffect)((function(){var e=window.location.href.split("code="),t=Object(Q.a)(e,2),a=(t[0],t[1]);r({variables:{input:{code:a}}})}),[r]),Object(Y.jsxs)("div",{className:"lg:bg-gray-700 text-white h-screen flex flex-col justify-center items-center pb-28",children:[Object(Y.jsx)(ce.a,{children:Object(Y.jsx)("title",{children:"confirm email | XON"})}),Object(Y.jsx)("h2",{className:"text-lg mb-2 font-semibold",children:"Confirming email..."}),Object(Y.jsx)("h4",{className:"text-base",children:"Please wait, don't close this page..."})]})},Me=a(410),Ce=Object(W.a)(b||(b=Object(J.a)(["\n query searchShareMusles($input: SearchShareMusleInput!){\n    searchShareMusle(input: $input){\n        ok\n        error\n        totalPages\n        totalResults\n        shareMusles{\n            ...ShareMusleParts\n        }\n    }\n }\n ","\n"])),ae),ke=function(){var e,t=Object(H.g)(),a=Object(H.f)(),n=Object(N.useState)(1),r=Object(Q.a)(n,2),i=r[0],s=r[1],c=Object(Me.a)(Ce),l=Object(Q.a)(c,2),o=l[0],d=l[1].data;Object(N.useEffect)((function(){var e=t.search.split("?term="),n=Object(Q.a)(e,2),r=(n[0],n[1]);r||a.replace("/"),o({variables:{input:{page:i,query:r}}})}),[a,t]);var u=Object(te.a)(),j=u.register,m=u.getValues,b=u.handleSubmit;return Object(Y.jsxs)("div",{className:"h-screen lg:bg-gray-700",children:[Object(Y.jsx)(ce.a,{children:Object(Y.jsx)("title",{children:"search | XON"})}),Object(Y.jsx)("form",{onSubmit:b((function(){var e=m().searchTerm;a.push({pathname:"/search",search:"?term=".concat(e)})})),className:"flex w-full justify-center items-center py-16 lg:py-28 bg-gray-100 lg:bg-gray-800",children:Object(Y.jsx)("input",Object(C.a)(Object(C.a)({},j("searchTerm",{minLength:1})),{},{type:"search",placeholder:"Search ShareMusles...",className:"searchInput"}))}),Boolean(null===d||void 0===d?void 0:d.searchShareMusle.totalResults)?Object(Y.jsx)("div",{className:"lg:bg-gray-700",children:Object(Y.jsxs)("div",{className:"max-w-screen-2xl mx-auto px-5 pb-20 lg:bg-gray-700 mt-20",children:[Object(Y.jsx)("div",{className:"grid lg:grid-cols-4 grid-cols-1 gap-x-5 gap-y-10 ",children:null===d||void 0===d||null===(e=d.searchShareMusle.shareMusles)||void 0===e?void 0:e.map((function(e){var t;return Object(Y.jsx)(ee,{address:e.address,id:e.id+"",name:e.name,coverImg:e.coverImg,countryName:(null===(t=e.country)||void 0===t?void 0:t.name)+""},e.id+"")}))}),Object(Y.jsxs)("div",{className:"grid max-w-sm grid-cols-3 mx-auto text-center lg:text-white mt-20 lg:bg-gray-700",children:[i>1?Object(Y.jsx)("button",{onClick:function(){return s((function(e){return e-1}))},children:"\u2190"}):Object(Y.jsx)("div",{}),Object(Y.jsxs)("span",{className:"text-sm",children:["The Page ",i]}),i===(null===d||void 0===d?void 0:d.searchShareMusle.totalPages)?Object(Y.jsx)("button",{onClick:function(){return s((function(e){return e+1}))},children:"\u2192"}):Object(Y.jsx)("div",{})]})]})}):Object(Y.jsx)("div",{className:"max-w-screen-2xl mx-auto flex justify-center text-center mt-20",children:Object(Y.jsx)("div",{className:"flex flex-col",children:Object(Y.jsx)("h2",{className:"text-2xl lg:text-white",children:"No search results found...\ud83d\ude18"})})})]})},_e=Object(W.a)(x||(x=Object(J.a)(["\n query countryQuery($input: CountryInput!){\n     country(input: $input){\n        ok\n        error\n        totalPages\n        totalResults\n        shareMusles{\n            ...ShareMusleParts\n        }\n        country{\n            ...CountryParts\n        }\n     }\n }\n ","\n ","\n"])),ae,ne),Ie=function(){var e,t,a,n=Object(N.useState)(1),r=Object(Q.a)(n,2),i=r[0],s=r[1],c=Object(H.h)(),l=Object(Z.a)(_e,{variables:{input:{page:i,slug:c.slug}}}).data;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(fe.a,{children:Object(Y.jsx)("title",{children:"".concat(null===l||void 0===l||null===(e=l.country.country)||void 0===e?void 0:e.name," | XON")})}),Object(Y.jsxs)("div",{className:"h-screen lg:bg-gray-700",children:[Object(Y.jsx)("div",{className:"lg:bg-gray-800",children:Object(Y.jsx)("div",{className:"flex justify-center text-center border-b-2 shadow-md lg:border-gray-800 items-center py-20 lg:py-28",children:Object(Y.jsx)("span",{className:"lg:text-5xl text-3xl font-semibold lg:text-white",children:null===l||void 0===l||null===(t=l.country.country)||void 0===t?void 0:t.name})})}),Object(Y.jsx)("div",{className:"lg:bg-gray-700",children:Object(Y.jsxs)("div",{className:"max-w-screen-2xl mx-auto pt-10 px-5",children:[Object(Y.jsx)("div",{className:"grid lg:grid-cols-4 grid-cols-1 gap-x-5 gap-y-10",children:null===l||void 0===l||null===(a=l.country.shareMusles)||void 0===a?void 0:a.map((function(e){var t;return Object(Y.jsx)("div",{className:"pt-14",children:Object(Y.jsx)(ee,{address:e.address,id:e.id+"",name:e.name,countryName:(null===(t=e.country)||void 0===t?void 0:t.name)+"",coverImg:e.coverImg},e.id+"")})}))}),Object(Y.jsxs)("div",{className:"grid grid-cols-3 max-w-sm mx-auto text-center lg:text-white pt-16",children:[i>1?Object(Y.jsx)("button",{onClick:function(){return s((function(e){return e-1}))},children:"\u2190"}):Object(Y.jsx)("div",{}),Object(Y.jsxs)("span",{children:["The Page ",i]}),i!==(null===l||void 0===l?void 0:l.country.totalPages)?Object(Y.jsx)("button",{onClick:function(){return s((function(e){return e+1}))},children:"\u2192"}):Object(Y.jsx)("div",{})]})]})})]})]})},Pe=a(28),Ae=function(e){var t=e.id,a=void 0===t?1:t,n=e.description,r=e.name,i=e.price,s=e.options,c=e.isSelected,l=void 0!==c&&c,o=e.orderStarted,d=void 0!==o&&o,u=e.addItemToOrder,j=e.removeOrder,m=e.children;return Object(Y.jsxs)("div",{className:"px-4 py-4 border-2 lg:bg-gray-700",children:[Object(Y.jsxs)("div",{className:"mb-2",children:[Object(Y.jsxs)("div",{className:"text-lg font-semibold pb-2 flex justify-between",children:[Object(Y.jsxs)("div",{children:[r,Object(Y.jsxs)("span",{className:"ml-2 font-medium",children:["$",i]})]}),Object(Y.jsx)("span",{className:"pr-2 text-2xl",children:Object(Y.jsx)("button",{onClick:function(){d&&(!l&&u&&u(a),l&&j&&j(a))},children:l?Object(Y.jsx)(me.a,{className:"text-lime-500",icon:je.a}):Object(Y.jsx)(me.a,{icon:je.b})})})]}),Object(Y.jsx)("h4",{className:"font-medium opacity-80",children:n})]}),s&&0!==s.length&&Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h5",{className:"py-2 font-semibold",children:"Service Options:"}),m]})]})},Te=function(e){var t=e.dishId,a=e.name,n=e.extra,r=e.addOptionToItem,i=e.isSelected,s=e.removeOptionFormItem;return Object(Y.jsxs)("button",{className:"flex border-2 px-2 py-1 mb-2 rounded-lg\n        ".concat(i?"border-lime-600":"hover:border-lime-800"),onClick:function(){i?s(t,a):r(t,a)},children:[Object(Y.jsx)("h6",{children:a}),Object(Y.jsx)("span",{className:"ml-2",children:"$".concat(n)})]})},Le=Object(W.a)(h||(h=Object(J.a)(["\n query shareMusle($input: ShareMusleInput!){\n    shareMusle(input: $input){\n        ok\n        error\n        shareMusle{\n            ...ShareMusleParts\n            menu{\n                ...DishParts\n            }\n        }\n    }\n }\n ","\n ","\n"])),ae,re),Be=Object(W.a)(g||(g=Object(J.a)(["\nmutation createOrder($input: CreateOrderInput!){\n    createOrder(input:$input){\n        ok\n        error\n        orderId\n    }\n }\n"]))),qe=function(){var e,t,a,n,r,i,s,c=Object(H.h)(),l=Object(Z.a)(Le,{variables:{input:{shareMusleId:+c.id}}}).data,o=Object(N.useState)(!1),d=Object(Q.a)(o,2),u=d[0],j=d[1],m=Object(N.useState)([]),b=Object(Q.a)(m,2),x=b[0],h=b[1],g=function(e){return x.find((function(t){return t.dishId===e}))},O=function(e){return Boolean(g(e))},p=function(e){O(e)||h((function(t){return[{dishId:e,options:[]}].concat(Object(Pe.a)(t))}))},v=function(e){h((function(t){return t.filter((function(t){return t.dishId!==e}))}))},f=function(e,t){if(O(e)){var a,n=g(e);if(n)Boolean(null===(a=n.options)||void 0===a?void 0:a.find((function(e){return e.name==t})))||(v(e),h((function(a){return[{dishId:e,options:[{name:t}].concat(Object(Pe.a)(n.options))}].concat(Object(Pe.a)(a))})))}},y=function(e,t){if(O){var a=g(e);return a?(v(e),void h((function(n){var r;return[{dishId:e,options:null===(r=a.options)||void 0===r?void 0:r.filter((function(e){return e.name!==t}))}].concat(Object(Pe.a)(n))}))):void 0}},S=function(e,t){var a=g(e);return!!a&&Boolean(function(e,t){var a;return null===(a=e.options)||void 0===a?void 0:a.find((function(e){return e.name==t}))}(a,t))},w=Object(H.f)(),M=Object(Oe.a)(Be,{onCompleted:function(e){var t=e.createOrder,a=t.ok,n=t.orderId;a&&(alert("Well done!"),w.push("/orders/".concat(n)))}}),C=Object(Q.a)(M,2),k=C[0],_=C[1].loading;return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ce.a,{children:Object(Y.jsx)("title",{children:"".concat(null===l||void 0===l||null===(e=l.shareMusle.shareMusle)||void 0===e?void 0:e.name," | XON")})}),Object(Y.jsxs)("div",{className:"h-screen lg:bg-gray-700 ",children:[Object(Y.jsx)("div",{className:"lg:bg-gray-700  lg:px-16",children:Object(Y.jsx)("div",{className:" max-w-screen-2xl py-2 flex justify-center mx-auto lg:bg-gray-700",children:Object(Y.jsxs)("div",{className:"grid lg:grid-cols-3 w-full lg:bg-gray-700 px-10",children:[Object(Y.jsx)("div",{className:"bg-red-500 bg-cover bg-center lg:mt-10 py-40 lg:py-60 rounded-2xl",style:{backgroundImage:"url(".concat(null===l||void 0===l||null===(t=l.shareMusle.shareMusle)||void 0===t?void 0:t.coverImg,")")}}),Object(Y.jsx)("div",{className:"flex flex-col lg:text-white lg:bg-gray-700 rounded-xl py-5 justify-end",children:Object(Y.jsxs)("div",{className:"lg:pl-20",children:[Object(Y.jsx)("h4",{className:"font-semibold text-2xl lg:text-4xl mb-4",children:null===l||void 0===l||null===(a=l.shareMusle.shareMusle)||void 0===a?void 0:a.name}),Object(Y.jsxs)("div",{className:"text-left flex flex-col gap-y-2",children:[Object(Y.jsx)("h5",{className:"font-normal text-base lg:text-2xl",children:"Phone: 01051741436"}),Object(Y.jsxs)("h6",{className:"font-normal text-base lg:text-2xl",children:["Adress: ",null===l||void 0===l||null===(n=l.shareMusle.shareMusle)||void 0===n?void 0:n.address]}),Object(Y.jsxs)("h6",{className:"font-normal text-base lg:text-2xl",children:["Country: ",null===l||void 0===l||null===(r=l.shareMusle.shareMusle)||void 0===r||null===(i=r.country)||void 0===i?void 0:i.name]})]})]})})]})})}),Object(Y.jsxs)("div",{className:" lg:px-24 max-w-screen-2xl lg:bg-gray-700 lg:text-white mx-auto px-5 lg:mt-10 pb-20",children:[Object(Y.jsx)("h1",{className:"lg:text-3xl text-xl lg:font-medium",children:"Service"}),Object(Y.jsxs)("div",{className:"flex flex-col items-end pb-5 text-lg text-white mt-3 ",children:[!u&&Object(Y.jsx)("button",{onClick:function(){j(!0)},className:"bg-lime-500 rounded-lg lg:px-5 py-2 w-full lg:w-max",children:"Start Order"}),u&&Object(Y.jsxs)("div",{className:" flex flex-col lg:flex-row lg:justify-end w-full",children:[Object(Y.jsx)("button",{onClick:function(){_||(0!==x.length?window.confirm("You are about to place an order")&&k({variables:{input:{shareMusleId:+c.id,items:x}}}):alert("Can't place empty order"))},className:"bg-lime-500 rounded-lg px-5 py-2 lg:mr-4 mb-2",children:"Confirm Order"}),Object(Y.jsx)("button",{onClick:function(){j(!1),h([])},className:"bg-red-500 rounded-lg px-5 py-2 lg:mb-2",children:"Cancel Order"})]})]}),Object(Y.jsx)("div",{className:"lg:bg-gray-700",children:Object(Y.jsx)("div",{className:"grid lg:grid-cols-3 gap-x-5 gap-y-3",children:null===l||void 0===l||null===(s=l.shareMusle.shareMusle)||void 0===s?void 0:s.menu.map((function(e){var t;return Object(Y.jsx)(Ae,{id:e.id,name:e.name,price:e.price+"",description:e.description,options:e.options,isSelected:O(e.id),addItemToOrder:p,removeOrder:v,orderStarted:u,children:null===(t=e.options)||void 0===t?void 0:t.map((function(t,a){return Object(Y.jsx)(Te,{extra:t.extra,name:t.name,dishId:e.id,addOptionToItem:f,isSelected:S(e.id,t.name),removeOptionFormItem:y},a)}))},e.id+"")}))})})]})]})]})},Ge=Object(W.a)(O||(O=Object(J.a)(["\n query myShareMusles{\n    myShareMusles{\n        ok\n        error\n        shareMusles{\n            ...ShareMusleParts\n        }\n    }\n }\n ","\n"])),ae),$e=function(){var e=Object(Z.a)(Ge).data;return Object(Y.jsxs)("div",{className:"h-screen lg:bg-gray-600 px-5",children:[Object(Y.jsx)("div",{children:Object(Y.jsx)(ce.a,{children:Object(Y.jsx)("title",{children:"My ShareMusles | XON"})})}),Object(Y.jsxs)("div",{className:"max-w-screen-2xl mx-auto lg:bg-gray-600 py-2 lg:px-5 lg:pt-16",children:[Object(Y.jsx)("h2",{className:"lg:text-white text-3xl lg:text-4xl font-semibold",children:"My ShareMusles"}),(null===e||void 0===e?void 0:e.myShareMusles.ok)&&0===e.myShareMusles.shareMusles.length?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("h4",{className:"lg:text-white mt-5 text-xl",children:"You have no shareMusles."}),Object(Y.jsx)(X.b,{to:"/add-shareMusle",children:Object(Y.jsx)("div",{className:"lg:text-yellow-200 text-lime-600 hover:underline mt-5",children:"Click To Create Your ShareMusle! \u2192"})})]}):Object(Y.jsx)("div",{className:"grid lg:grid-cols-4 gap-x-5 gap-y-10 mt-6 lg:mt-10 grid-cols-1",children:null===e||void 0===e?void 0:e.myShareMusles.shareMusles.map((function(e){var t;return Object(Y.jsx)(ee,{id:e.id+"",coverImg:e.coverImg,name:e.name,countryName:(null===(t=e.country)||void 0===t?void 0:t.name)+"",address:e.address},e.id+"")}))})]})]})},Ee=a(27),De=a.n(Ee),Fe=a(44);(v=p||(p={})).France="France",v.China="China",v.USA="USA",v.Germany="Germany";var ze,Ue,Ve,Ke,Re,Xe,He,Qe=Object(W.a)(f||(f=Object(J.a)(["\n mutation createShareMusle($input: CreateShareMusleInput!){\n    createShareMusle(input: $input){\n        ok\n        error\n        shareMusleId\n    }\n }\n"]))),Je=function(){var e=Object(ge.a)(),t=Object(H.f)(),a=Object(N.useState)(""),n=Object(Q.a)(a,2),r=n[0],i=n[1],s=Object(Oe.a)(Qe,{onCompleted:function(a){var n=a.createShareMusle,i=n.ok,s=n.shareMusleId;if(i){var c=m(),l=c.name,o=c.address,d=c.countryName;O(!1);var u=e.readQuery({query:Ge});e.writeQuery({query:Ge,data:{myShareMusles:Object(C.a)(Object(C.a)({},u.myShareMusles),{},{shareMusles:[{address:o,country:{name:d,__typename:"Country"},coverImg:r,id:s,isPromoted:!1,name:l,__typename:"ShareMusle"}].concat(Object(Pe.a)(u.myShareMusles.shareMusles))})}}),t.push("/"),alert("Well done!")}}}),c=Object(Q.a)(s,2),l=c[0],o=c[1].data,d=Object(te.a)({mode:"onChange"}),u=d.register,j=d.handleSubmit,m=d.getValues,b=d.formState.isValid,x=Object(N.useState)(!1),h=Object(Q.a)(x,2),g=h[0],O=h[1],v=function(){var e=Object(Fe.a)(De.a.mark((function e(){var t,a,n,r,s,c,o,d,u;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),t=m(),a=t.name,n=t.address,r=t.countryName,s=t.file,c=s[0],(o=new FormData).append("file",c),e.next=8,fetch("http://localhost:5000/uploads/",{method:"POST",body:o});case 8:return e.next=10,e.sent.json();case 10:d=e.sent,u=d.url,i(u),l({variables:{input:{name:a,coverImg:u,countryName:r,address:n}}}),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(0);case 18:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ce.a,{children:Object(Y.jsx)("title",{children:"Create ShareMusle | XON"})}),Object(Y.jsx)("div",{className:"h-screen lg:bg-gray-600 flex flex-col lg:justify-center items-center",children:Object(Y.jsxs)("div",{className:"w-full max-w-screen-sm  flex flex-col items-center lg:mb-32",children:[Object(Y.jsx)("h2",{className:"text-3xl lg:text-white mb-6 font-semibold",children:"Create ShareMusle!"}),Object(Y.jsxs)("form",{className:"w-full grid px-5 gap-3",onSubmit:j(v),children:[Object(Y.jsx)("input",Object(C.a)({className:"input",type:"text",placeholder:"Name"},u("name",{required:"Name is required"}))),Object(Y.jsx)("input",Object(C.a)({className:"input",type:"text",placeholder:"Address"},u("address",{required:"Address is required"}))),Object(Y.jsx)("select",Object(C.a)(Object(C.a)({},u("countryName",{required:!0})),{},{className:"input",children:Object.keys(p).map((function(e,t){return Object(Y.jsx)("option",{children:e},t)}))})),Object(Y.jsx)("input",Object(C.a)(Object(C.a)({className:"input",type:"file"},u("file",{required:!0})),{},{accept:"image/*"})),Object(Y.jsx)(pe,{canClick:b,loading:g,actionText:"Create ShareMusle"}),(null===o||void 0===o?void 0:o.createShareMusle.error)&&Object(Y.jsx)(ve,{errorMessage:o.createShareMusle.error})]})]})})]})},Ze=a(420),We=a(417),Ye=a(422),et=a(413),tt=a(423),at=a(421),nt=a(230),rt=Object(W.a)(ze||(ze=Object(J.a)(["\n query myShareMusle($input: MyShareMusleInput!){\n    myShareMusle(input: $input){\n        ok\n        error\n        shareMusle{\n            ...ShareMusleParts\n            menu{\n                ...DishParts\n            }\n            orders{\n                ...OrderParts\n            }\n        }\n    }\n }\n ","\n ","\n ","\n"])),ae,re,ie),it=Object(W.a)(Ue||(Ue=Object(J.a)(["\nsubscription pendingOrders{\n    pendingOrders{\n        ...OrderFull\n    }\n}\n","\n"])),se),st=Object(W.a)(Ve||(Ve=Object(J.a)(["\n  mutation deleteDish($input: DeleteDishInput!){\n      deleteDish(input: $input){\n          ok\n      }\n  }\n"]))),ct=function(){var e,t,a,n,r,i,s,c,l=Object(H.h)().id,o=Object(H.f)(),d=Object(Z.a)(rt,{variables:{input:{id:+l}}}).data,u=Object(Ze.a)(it).data;Object(N.useEffect)((function(){(null===u||void 0===u?void 0:u.pendingOrders.id)&&o.push("/orders/".concat(u.pendingOrders.id))}),[u]);var j=Object(Oe.a)(st);Object(Q.a)(j,1)[0];return console.log(l),Object(Y.jsxs)("div",{className:"lg:bg-gray-600 h-screen",children:[Object(Y.jsx)(ce.a,{children:Object(Y.jsx)("title",{children:"My ShareMusle | XON"})}),Object(Y.jsxs)("div",{className:"max-w-screen-2xl px-5 lg:mx-auto pt-3 lg:py-10 lg:pt-20 grid lg:grid-cols-2 grid-cols-1",children:[Object(Y.jsxs)("div",{className:"lg:grid-cols-2 grid gap-5",children:[Object(Y.jsx)("div",{style:{backgroundImage:"url(".concat(null===d||void 0===d||null===(e=d.myShareMusle.shareMusle)||void 0===e?void 0:e.coverImg,")")},className:"bg-yellow-300 py-48 rounded-lg bg-cover bg-center"}),Object(Y.jsxs)("div",{className:"lg:text-white lg:px-10 flex flex-col justify-end lg:gap-y-4 gap-y-2",children:[Object(Y.jsx)("h2",{className:"font-semibold text-2xl lg:text-4xl",children:null===d||void 0===d||null===(t=d.myShareMusle.shareMusle)||void 0===t?void 0:t.name}),Object(Y.jsxs)("h4",{className:"font-normal text-base lg:text-2xl",children:["Adress : ",null===d||void 0===d||null===(a=d.myShareMusle.shareMusle)||void 0===a?void 0:a.address]}),Object(Y.jsxs)("h4",{className:"font-normal text-base lg:text-2xl",children:["Country : ",null===d||void 0===d||null===(n=d.myShareMusle.shareMusle)||void 0===n||null===(r=n.country)||void 0===r?void 0:r.name]}),Object(Y.jsx)("h4",{className:"font-normal text-base lg:text-2xl",children:"Phone : +01015125351"})]})]}),Object(Y.jsx)("div",{className:"flex flex-col justify-center text-white gap-y-4 items-center mt-6 lg:mb-6",children:Object(Y.jsxs)("div",{className:"flex lg:gap-x-5 gap-x-3",children:[Object(Y.jsx)("div",{children:Object(Y.jsx)(X.b,{className:"bg-green-500 text-sm lg:text-lg font-medium px-5 py-2",to:"/shareMusle/".concat(l,"/add-service"),children:"Add Service \u2192"})}),Object(Y.jsx)("div",{children:Object(Y.jsx)(X.b,{className:"bg-red-500 text-sm lg:text-lg font-medium px-5 py-2",to:"",children:"Buy Promotion \u2192"})})]})})]}),Object(Y.jsx)("div",{className:"lg:mt-10 mt-8 lg:text-white",children:0===(null===d||void 0===d||null===(i=d.myShareMusle.shareMusle)||void 0===i?void 0:i.menu.length)?Object(Y.jsx)("h4",{className:"lg:text-3xl text-xl lg:font-medium",children:"Please Upload Your Service!"}):Object(Y.jsxs)("div",{className:"max-w-screen-2xl px-5 mx-auto",children:[Object(Y.jsx)("h1",{className:"lg:text-3xl text-xl lg:font-medium mb-5 lg:mb-8",children:"My Services"}),Object(Y.jsx)("div",{className:"grid lg:grid-cols-3 gap-x-5 gap-y-3",children:null===d||void 0===d||null===(s=d.myShareMusle.shareMusle)||void 0===s?void 0:s.menu.map((function(e){var t;return Object(Y.jsx)(Ae,{name:e.name,description:e.description,price:e.price+"",options:e.options,children:null===(t=e.options)||void 0===t?void 0:t.map((function(t,a){return Object(Y.jsx)(Te,{name:t.name,dishId:e.id,addOptionToItem:function(){return!1},removeOptionFormItem:function(){return!1}},a)}))},e.id+"")}))})]})}),Object(Y.jsx)("div",{className:"lg:bg-gray-600 pb-20",children:Object(Y.jsx)("div",{className:"max-w-screen-2xl px-5 mx-auto mt-10 lg:text-white",children:(null===d||void 0===d?void 0:d.myShareMusle.ok)?Object(Y.jsx)("h1",{className:"text-center font-medium text-lg",children:"A new technology will be updated soon..."}):Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h1",{className:"text-center font-medium text-4xl pt-10",children:"Average Sales"}),Object(Y.jsx)("div",{className:"mt-5",children:Object(Y.jsxs)(We.a,{domainPadding:50,height:500,width:window.innerWidth,containerComponent:Object(Y.jsx)(Ye.a,{}),children:[Object(Y.jsx)(et.a,{labels:function(e){return"$".concat(Math.floor(e.y))},labelComponent:Object(Y.jsx)(tt.a,{style:{fontSize:18},renderInPortal:!0,dy:-20}),data:null===d||void 0===d||null===(c=d.myShareMusle.shareMusle)||void 0===c?void 0:c.orders.map((function(e){return{x:e.createdAt,y:e.total}})),interpolation:"linear",style:{data:{strokeWidth:5,stroke:"#40FFE0"}}}),Object(Y.jsx)(at.a,{tickLabelComponent:Object(Y.jsx)(nt.a,{renderInPortal:!0}),style:{tickLabels:{fontSize:20}},tickFormat:function(e){return new Date(e).toLocaleDateString()}})]})})]})})})]})},lt=a(258),ot=["name","price","description"],dt=Object(W.a)(Ke||(Ke=Object(J.a)(["\n  mutation createDish($input: CreateDishInput!) {\n    createDish(input: $input) {\n      ok\n      error\n    }\n  }\n"]))),ut=function(){var e=Object(H.h)().shareMusleId,t=Object(H.f)(),a=Object(Oe.a)(dt,{onCompleted:function(e){e.createDish.ok&&t.goBack()},refetchQueries:[{query:rt,variables:{input:{id:+e}}}]}),n=Object(Q.a)(a,2),r=n[0],i=n[1].loading,s=Object(te.a)({mode:"onChange"}),c=s.getValues,l=s.handleSubmit,o=s.register,d=s.formState.isValid,u=s.setValue,j=Object(N.useState)([]),m=Object(Q.a)(j,2),b=m[0],x=m[1];return Object(Y.jsxs)("div",{className:"h-screen lg:bg-gray-700 flex flex-col lg:justify-center items-center",children:[Object(Y.jsx)(ce.a,{children:Object(Y.jsx)("title",{children:"Create Service | XON"})}),Object(Y.jsxs)("div",{className:"w-full max-w-screen-sm flex flex-col items-center lg:mb-32",children:[Object(Y.jsx)("h2",{className:"lg:text-white text-3xl font-semibold mb-6",children:"Create Service"}),Object(Y.jsxs)("form",{className:"w-full grid gap-3 px-5",onSubmit:l((function(){var t=c(),a=t.name,n=t.price,i=t.description,s=Object(lt.a)(t,ot),l=b.map((function(e){return{name:s["".concat(e," - OptionName")],extra:+s["".concat(e," - OptionExtra")]}}));r({variables:{input:{name:a,price:+n,description:i,shareMusleId:+e,options:l}}}),alert("Well done!")})),children:[Object(Y.jsx)("input",Object(C.a)({className:"input",type:"text",placeholder:"\uc9d1\uae4c\uc9c0 \ubcf4\uc870"},o("name",{required:"Name is required"}))),Object(Y.jsx)("input",Object(C.a)({className:"input",type:"text",placeholder:"Description"},o("description",{required:"Description is required."}))),Object(Y.jsx)("input",Object(C.a)({className:"input",type:"number",placeholder:"Price",min:0},o("price",{required:"Price is required"}))),Object(Y.jsxs)("div",{className:"my-2 lg:text-white",children:[Object(Y.jsx)("h4",{className:"font-medium mb-2 text-lg",children:"Service Options"}),Object(Y.jsx)("span",{onClick:function(){x((function(e){return[Date.now()].concat(Object(Pe.a)(e))}))},className:"text-sm cursor-pointer bg-white text-gray-700 font-semibold py-1 px-2 rounded-lg",children:"Add Service Options"}),0!==b.length&&b.map((function(e){return Object(Y.jsxs)("div",{className:"mt-2",children:[Object(Y.jsx)("input",Object(C.a)(Object(C.a)({},o("".concat(e," - OptionName"))),{},{type:"text",placeholder:"Bus Ride",className:"text-black focus:outline-none shadow-inner my-2 lg:-mb-2 bg-gray-100 px-4 py-2 mr-4 border-1 rounded-lg"})),Object(Y.jsx)("input",Object(C.a)(Object(C.a)({},o("".concat(e," - OptionExtra"))),{},{type:"number",placeholder:"0$",className:"text-black focus:outline-none shadow-inner bg-gray-100 px-4 py-2 border-1 rounded-lg"})),Object(Y.jsx)("span",{onClick:function(){return t=e,x((function(e){return e.filter((function(e){return e!==t}))})),u("".concat(t," - OptionName"),""),void u("".concat(t," - OptionExtra"),"");var t},className:"focus:outline-none px-4 py-2 border-1 rounded-lg bg-red-500 ml-4 cursor-pointer",children:"Delete"})]},e)}))]}),Object(Y.jsx)(pe,{canClick:d,loading:i,actionText:"Create Service"})]})]})]})};!function(e){e.Afghanistan="Afghanistan",e.Albania="Albania",e.Algeria="Algeria",e.Andorra="Andorra",e.Angola="Angola",e.Antigua_and_Barbuda="Antigua_and_Barbuda",e.Argentina="Argentina",e.Armenia="Armenia",e.Australia="Australia",e.Austria="Austria",e.Azerbaijan="Azerbaijan",e.Bahrain="Bahrain",e.Bangladesh="Bangladesh",e.Barbados="Barbados",e.Belarus="Belarus",e.Belgium="Belgium",e.Belize="Belize",e.Benin="Benin",e.Bhutan="Bhutan",e.Bolivia="Bolivia",e.Bosniaand_Herzegovina="Bosniaand_Herzegovina",e.Botswana="Botswana",e.Brazil="Brazil",e.Brunei="Brunei",e.Bulgaria="Bulgaria",e.BurkinaFaso="BurkinaFaso",e.Burma="Burma",e.Burundi="Burundi",e.Cambodia="Cambodia",e.Cameroon="Cameroon",e.Canada="Canada",e.CapeVerde="CapeVerde",e.Central_African_Republic="Central_African_Republic",e.Chad="Chad",e.Chile="Chile",e.China="China",e.Colombia="Colombia",e.Comoros="Comoros",e.Costa_Rica="Costa_Rica",e.Cote_dIvoire="Cote_dIvoire",e.Croatia="Croatia",e.Cuba="Cuba",e.Cyprus="Cyprus",e.Czech_Republic="Czech_Republic",e.Democratic_Republic_of_theCongo="Democratic_Republic_of_theCongo",e.Denmark="Denmark",e.Djibouti="Djibouti",e.Dominica="Dominica",e.Dominican_Republic="Dominican_Republic",e.East_Timor="East_Timor",e.Ecuador="Ecuador",e.Egypt="Egypt",e.El_Salvador="El_Salvador",e.Equatorial_Guinea="Equatorial_Guinea",e.Eritrea="Eritrea",e.Estonia="Estonia",e.Ethiopia="Ethiopia",e.Fiji="Fiji",e.Finland="Finland",e.France="France",e.Gabon="Gabon",e.Georgia="Georgia",e.Germany="Germany",e.Ghana="Ghana",e.Greece="Greece",e.Grenada="Grenada",e.Guatemala="Guatemala",e.Guinea_Bissau="Guinea_Bissau",e.Guyana="Guyana",e.Haiti="Haiti",e.Holy_See="Holy_See",e.Honduras="Honduras",e.Hong_Kong="Hong_Kong",e.Hungary="Hungary",e.Iceland="Iceland",e.India="India",e.Indonesia="Indonesia",e.Iran="Iran",e.Iraq="Iraq",e.Ireland="Ireland",e.Israel="Israel",e.Italy="Italy",e.Jamaica="Jamaica",e.Japan="Japan",e.Jordan="Jordan",e.K="K",e.Kazakhstan="Kazakhstan",e.Kenya="Kenya",e.Kiribati="Kiribati",e.Kosovo="Kosovo",e.Kuwait="Kuwait",e.Kyrgyzstan="Kyrgyzstan",e.Laos="Laos",e.Latvia="Latvia",e.Lebanon="Lebanon",e.Lesotho="Lesotho",e.Liberia="Liberia",e.Libya="Libya",e.Liechtenstein="Liechtenstein",e.Lithuania="Lithuania",e.Luxembourg="Luxembourg",e.Macau="Macau",e.Macedonia="Macedonia",e.Madagascar="Madagascar",e.Malawi="Malawi",e.Malaysia="Malaysia",e.Maldives="Maldives",e.Mali="Mali",e.Malta="Malta",e.Marshall_Islands="Marshall_Islands",e.Mauritania="Mauritania",e.Mauritius="Mauritius",e.Mexico="Mexico",e.Micronesia="Micronesia",e.Moldova="Moldova",e.Monaco="Monaco",e.Mongolia="Mongolia",e.Montenegro="Montenegro",e.Morocco="Morocco",e.Mozambique="Mozambique",e.Namibia="Namibia",e.Nauru="Nauru",e.Nepal="Nepal",e.Nether_lands="Nether_lands",e.Netherlands_Antilles="Netherlands_Antilles",e.New_Zealand="New_Zealand",e.Nicaragua="Nicaragua",e.Niger="Niger",e.Nigeria="Nigeria",e.North_Korea="North_Korea",e.Norway="Norway",e.Oman="Oman",e.Pakistan="Pakistan",e.Palau="Palau",e.Palestinian_Territories="Palestinian_Territories",e.Panama="Panama",e.Papua_New_Guinea="Papua_New_Guinea",e.Paraguay="Paraguay",e.Peru="Peru",e.Philippines="Philippines",e.Poland="Poland",e.Portugal="Portugal",e.Qatar="Qatar",e.Republic_of_the_Congo="Republic_of_the_Congo",e.Romania="Romania",e.Russia="Russia",e.Rwanda="Rwanda",e.Saint_Kitts_and_Nevis="Saint_Kitts_and_Nevis",e.Saint_Lucia="Saint_Lucia",e.Saint_Vincent_and_the_Grenadines="Saint_Vincent_and_the_Grenadines",e.Samoa="Samoa",e.San_Marino="San_Marino",e.Sao_Tome_and_Principe="Sao_Tome_and_Principe",e.Saudi_Arabia="Saudi_Arabia",e.Senegal="Senegal",e.Serbia="Serbia",e.Seychelles="Seychelles",e.Sierra_Leone="Sierra_Leone",e.Singapore="Singapore",e.Slovakia="Slovakia",e.Slovenia="Slovenia",e.Solomon_Islands="Solomon_Islands",e.Somalia="Somalia",e.South_Africa="South_Africa",e.South_Korea="South_Korea",e.South_Sudan="South_Sudan",e.Spain="Spain",e.Sri_Lanka="Sri_Lanka",e.Sudan="Sudan",e.Suriname="Suriname",e.Swaziland="Swaziland",e.Sweden="Sweden",e.Switzerland="Switzerland",e.Syria="Syria",e.Taiwan="Taiwan",e.Tajikistan="Tajikistan",e.Tanzania="Tanzania",e.Thailand="Thailand",e.TheBahamas="TheBahamas",e.The_Gambia="The_Gambia",e.Timor_Leste="Timor_Leste",e.Togo="Togo",e.Tonga="Tonga",e.Trinidad_and_Tobago="Trinidad_and_Tobago",e.Tunisia="Tunisia",e.Turkey="Turkey",e.Turkmenistan="Turkmenistan",e.Tuvalu="Tuvalu",e.Uganda="Uganda",e.Ukraine="Ukraine",e.United_Arab_Emirates="United_Arab_Emirates",e.United_Kingdom="United_Kingdom",e.Uruguay="Uruguay",e.Uzbekistan="Uzbekistan",e.Vanuatu="Vanuatu",e.Venezuela="Venezuela",e.Vietnam="Vietnam",e.Yemen="Yemen",e.Zambia="Zambia",e.Zimbabwe="Zimbabwe"}(Re||(Re={})),function(e){e.Arrived="Arrived",e.Going="Going",e.Pending="Pending",e.Protecting="Protecting"}(Xe||(Xe={})),function(e){e.Guader="Guader",e.User="User"}(He||(He={}));var jt,mt,bt,xt,ht,gt,Ot=a(259),pt=function(){return Object(Y.jsx)("div",{className:"text-lg",children:"\ud83e\udd77"})},vt={lat:37.51320598135089,lng:127.101950169125},ft=function(){var e=Object(N.useState)(vt),t=Object(Q.a)(e,2),a=t[0],n=t[1],r=Object(N.useState)(vt),i=Object(Q.a)(r,2),s=(i[0],i[1],Object(N.useState)()),c=Object(Q.a)(s,2),l=c[0],o=c[1],d=Object(N.useState)(),u=Object(Q.a)(d,2),j=u[0],m=u[1],b=function(e){var t=e.coords,r=t.latitude,i=t.longitude;n({lat:r,lng:i}),console.log(a)},x=function(e){console.log(e)};Object(N.useEffect)((function(){navigator.geolocation.watchPosition(b,x,{enableHighAccuracy:!0})}),[]),Object(N.useEffect)((function(){l&&j&&(l.panTo(new google.maps.LatLng(a.lat,a.lng)),(new google.maps.Geocoder).geocode({location:new google.maps.LatLng(a.lat,a.lng)},(function(e,t){console.log(e,t)})))}),[a.lat,a.lng]);return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)("div",{className:"rounded-lg overflow-hidden",style:{height:"58vh",width:"100%"},children:Object(Y.jsx)(Ot.a,{bootstrapURLKeys:{key:"AIzaSyBbRtmQhCFlTdRBjJduovbO0qgdXAfbCNg"},defaultCenter:vt,defaultZoom:18,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=e.map,n=e.maps;t.panTo(new google.maps.LatLng(a.lat,a.lng)),o(t),m(n)},children:Object(Y.jsx)(pt,{lat:a.lat,lng:a.lng})})})})},yt=Object(W.a)(jt||(jt=Object(J.a)(["\n query getOrder($input: GetOrderInput!){\n    getOrder(input: $input){\n        ok\n        error\n        order{\n            ...OrderFull\n        }\n    }\n }\n ","\n"])),se),Nt=Object(W.a)(mt||(mt=Object(J.a)(["\n subscription updateOrders($input: UpdateOrderInput!){\n    updateOrders(input: $input){\n        ...OrderFull\n    }\n }\n ","\n"])),se),St=Object(W.a)(bt||(bt=Object(J.a)(["\n mutation deleteOrder($input: DeleteOrderInput!){\n     deleteOrder(input: $input){\n        ok\n        error\n     }\n }\n"]))),wt=Object(W.a)(xt||(xt=Object(J.a)(["\n mutation editOrder($input: EditOrderInput!){\n     editOrder(input: $input){\n         ok\n         error\n     }\n }\n"]))),Mt=function(){var e,t,a,n,r,i,s,c,l,o,d,u,j=Object(H.h)(),m=Object(H.f)(),b=xe().data,x=Object(Oe.a)(wt),h=Object(Q.a)(x,1)[0],g=Object(Z.a)(yt,{variables:{input:{id:+j.id}}}),O=g.data,p=g.subscribeToMore,v=Object(Oe.a)(St,{onCompleted:function(e){e.deleteOrder.ok&&m.goBack()}}),f=Object(Q.a)(v,1)[0],y=function(){f({variables:{input:{orderId:+j.id}}})};Object(N.useEffect)((function(){(null===O||void 0===O?void 0:O.getOrder.ok)&&p({document:Nt,variables:{input:{id:+j.id}},updateQuery:function(e,t){var a=t.subscriptionData.data;return a?{getOrder:Object(C.a)(Object(C.a)({},e.getOrder),{},{order:Object(C.a)({},a.updateOrders)})}:e}})}),[O]);var S=function(e){h({variables:{input:{id:+j.id,status:e}}})};return Object(Y.jsxs)("div",{className:"h-screen lg:bg-gray-700 flex flex-col lg:justify-center items-center",children:[Object(Y.jsx)(ce.a,{children:Object(Y.jsx)("title",{children:"Order #".concat(null===O||void 0===O||null===(e=O.getOrder.order)||void 0===e?void 0:e.id," | XON")})}),Object(Y.jsxs)("div",{className:"w-full max-w-screen-xl lg:text-white lg:mt-12 mt-2 px-5 grid lg:grid-cols-2 gap-y-5 lg:gap-x-5",children:[Object(Y.jsxs)("div",{className:"rounded-lg border-2 border-gray-300 flex flex-col justify-center items-center",children:[Object(Y.jsxs)("div",{className:"border-b-2 text-xl text-center py-4 w-full bg-pink-700 text-white",children:["Order #",null===O||void 0===O||null===(t=O.getOrder.order)||void 0===t?void 0:t.id]}),Object(Y.jsxs)("div",{className:"px-5 w-full text-left",children:[Object(Y.jsxs)("div",{className:"py-8 text-3xl border-b-2 text-center",children:["$",null===O||void 0===O||null===(a=O.getOrder.order)||void 0===a?void 0:a.total]}),Object(Y.jsxs)("div",{className:"py-5 border-b-2 text-sm",children:[Object(Y.jsx)("span",{children:"Prepared By:"})," ",Object(Y.jsx)("span",{className:"text-xl",children:null===O||void 0===O||null===(n=O.getOrder.order)||void 0===n||null===(r=n.shareMusle)||void 0===r?void 0:r.name})]}),Object(Y.jsxs)("div",{className:"py-5 border-b-2 text-sm",children:[Object(Y.jsx)("span",{children:"Guader To:"})," ",Object(Y.jsx)("span",{className:"text-xl",children:null===O||void 0===O||null===(i=O.getOrder.order)||void 0===i||null===(s=i.customer)||void 0===s?void 0:s.email})]}),Object(Y.jsxs)("div",{className:"py-8 text-base text-center",children:[Object(Y.jsx)("span",{children:"Guader Status:"})," ",Object(Y.jsx)("span",{className:"text-xl text-lime-500",children:null===O||void 0===O||null===(c=O.getOrder.order)||void 0===c?void 0:c.status})]}),(null===b||void 0===b?void 0:b.me.role)===He.User&&(null===O||void 0===O||null===(l=O.getOrder.order)||void 0===l?void 0:l.status)!==Xe.Arrived&&Object(Y.jsx)("div",{className:"pb-10 text-base text-center",children:Object(Y.jsx)("button",{onClick:y,className:"bg-red-500 text-sm lg:text-lg font-medium px-5 py-2",children:"Canncel Order"})}),(null===b||void 0===b?void 0:b.me.role)===He.Guader&&Object(Y.jsxs)(Y.Fragment,{children:[(null===O||void 0===O||null===(o=O.getOrder.order)||void 0===o?void 0:o.status)===Xe.Pending&&Object(Y.jsxs)("div",{className:"pb-10 text-base text-center",children:[Object(Y.jsx)("button",{onClick:function(){return S(Xe.Going)},className:"bg-lime-500 text-sm lg:text-lg font-medium px-5 py-2 mr-2",children:"Accept Order"}),Object(Y.jsx)("button",{onClick:y,className:"bg-red-500 text-sm lg:text-lg font-medium px-5 py-2",children:"Canncel Order"})]}),(null===O||void 0===O||null===(d=O.getOrder.order)||void 0===d?void 0:d.status)===Xe.Going&&Object(Y.jsxs)("div",{className:"pb-10 text-base text-center",children:[Object(Y.jsx)("button",{onClick:function(){return S(Xe.Protecting)},className:"bg-lime-500 text-sm lg:text-lg font-medium px-5 py-2 mr-2",children:"Protecting Customer"}),Object(Y.jsx)("button",{onClick:y,className:"bg-red-500 text-sm lg:text-lg font-medium px-5 py-2",children:"Canncel Order"})]}),(null===O||void 0===O||null===(u=O.getOrder.order)||void 0===u?void 0:u.status)===Xe.Protecting&&Object(Y.jsx)("div",{className:"pb-10 text-base text-center",children:Object(Y.jsx)("button",{onClick:function(){return S(Xe.Arrived)},className:"bg-lime-500 text-sm lg:text-lg font-medium px-5 py-2 mr-2",children:"Destination Arrived"})})]})]})]}),Object(Y.jsx)(ft,{})]})]})},Ct=[{path:"/",component:Object(Y.jsx)(oe,{})},{path:"/search",component:Object(Y.jsx)(ke,{})},{path:"/country/:slug",component:Object(Y.jsx)(Ie,{})},{path:"/shareMusle/:id",component:Object(Y.jsx)(qe,{})}],kt=[{path:"/edit-profile",component:Object(Y.jsx)(Ne,{})},{path:"/confirm",component:Object(Y.jsx)(we,{})},{path:"/orders/:id",component:Object(Y.jsx)(Mt,{})}],_t=[{path:"/",component:Object(Y.jsx)($e,{})},{path:"/add-sharemusle",component:Object(Y.jsx)(Je,{})},{path:"/shareMusle/:id",component:Object(Y.jsx)(ct,{})},{path:"/shareMusle/:shareMusleId/add-service",component:Object(Y.jsx)(ut,{})}],It=function(){var e=xe(),t=e.data,a=e.error,n=e.loading;return!t||n||a?Object(Y.jsx)("div",{className:"h-screen flex justify-center items-center lg:bg-gray-700",children:Object(Y.jsx)("span",{className:"text-2xl font-semibold tracking-wide lg:text-white",children:"Loading..."})}):Object(Y.jsxs)(X.a,{children:[Object(Y.jsx)(he,{}),Object(Y.jsxs)(H.c,{children:[t.me.role===He.User&&Ct.map((function(e){return Object(Y.jsx)(H.a,{exact:!0,path:e.path,children:e.component},e.path)})),t.me.role===He.Guader&&_t.map((function(e){return Object(Y.jsx)(H.a,{exact:!0,path:e.path,children:e.component},e.path)})),kt.map((function(e){return Object(Y.jsx)(H.a,{exact:!0,path:e.path,children:e.component},e.path)})),Object(Y.jsx)(H.a,{children:Object(Y.jsx)(de,{})})]})]})},Pt=Object(W.a)(ht||(ht=Object(J.a)(["\n mutation createAccountMutation($createAccountInput: CreateAccountInput!){\n    createAccount(input: $createAccountInput){\n        ok\n        error\n    }\n }\n"]))),At=function(){var e,t,a,n=Object(H.f)(),r=Object(te.a)({mode:"onChange",defaultValues:{role:He.User,countrySelect:Re.United_Kingdom}}),i=r.register,s=r.getValues,c=r.formState,l=c.errors,o=c.isValid,d=r.handleSubmit,u=Object(Oe.a)(Pt,{onCompleted:function(e){e.createAccount.ok&&(alert("Account Created! Log in Now!"),n.push("/"))}}),j=Object(Q.a)(u,2),m=j[0],b=j[1],x=b.data,h=b.loading;return Object(Y.jsxs)("div",{className:"lg:bg-gray-700 lg:h-screen flex flex-col items-center justify-center",children:[Object(Y.jsx)(ce.a,{children:Object(Y.jsx)("title",{children:"create-account | XON"})}),Object(Y.jsxs)("div",{className:"w-full max-w-screen-sm flex flex-col items-center px-5 mt-10 lg:mb-10",children:[Object(Y.jsx)("h3",{className:"lg:text-white font-semibold text-3xl mb-5",children:"Create Account"}),Object(Y.jsx)("h4",{className:"lg:text-white font-medium w-full text-left text-xl mb-3",children:"Let's get Start!"}),Object(Y.jsxs)("form",{className:"w-full grid gap-3 py-3",onSubmit:d((function(){if(!h){var e=s(),t=e.email,a=e.password,n=e.role,r=e.countrySelect;m({variables:{createAccountInput:{email:t,password:a,role:n,countrySelect:r}}})}})),children:[Object(Y.jsx)("input",Object(C.a)({className:"input",placeholder:"example@example.com",type:"email"},i("email",{required:"Email is required",pattern:B}))),(null===(e=l.email)||void 0===e?void 0:e.message)&&Object(Y.jsx)(ve,{errorMessage:l.email.message}),Object(Y.jsx)("input",Object(C.a)({className:"input",placeholder:"password",type:"password"},i("password",{required:"Password is required",minLength:3}))),(null===(t=l.password)||void 0===t?void 0:t.message)&&Object(Y.jsx)(ve,{errorMessage:l.password.message}),"minLength"===(null===(a=l.email)||void 0===a?void 0:a.type)&&Object(Y.jsx)(ve,{errorMessage:"Password must be more than 3 chars."}),Object(Y.jsx)("select",Object(C.a)(Object(C.a)({},i("role",{required:!0})),{},{className:"input",children:Object.keys(He).map((function(e,t){return Object(Y.jsx)("option",{children:e},t)}))})),Object(Y.jsx)("select",Object(C.a)(Object(C.a)({},i("countrySelect",{required:!0})),{},{className:"input",children:Object.keys(Re).map((function(e,t){return Object(Y.jsx)("option",{children:e},t)}))})),Object(Y.jsx)(pe,{canClick:o,loading:h,actionText:"Create an Account"})]}),(null===x||void 0===x?void 0:x.createAccount.error)&&Object(Y.jsx)(ve,{errorMessage:x.createAccount.error}),Object(Y.jsxs)("div",{className:"w-full text-center lg:text-white",children:["Already have an account?"," ",Object(Y.jsx)(X.b,{to:"/",className:"hover:underline lg:text-yellow-200 text-indigo-500",children:"Log In Now"})]})]})]})},Tt=Object(W.a)(gt||(gt=Object(J.a)(["\n mutation loginMutation($loginInput: LoginInput!){\n    login(input: $loginInput){\n        ok\n        error\n        token\n    }\n }\n"]))),Lt=function(){var e,t,a,n=Object(te.a)({mode:"onChange"}),r=n.getValues,i=n.handleSubmit,s=n.register,c=n.formState,l=c.errors,o=c.isValid,d=Object(Oe.a)(Tt,{onCompleted:function(e){var t=e.login,a=t.ok,n=t.token;a&&n&&(localStorage.setItem(L,n),D(n),E(!0))}}),u=Object(Q.a)(d,2),j=u[0],m=u[1],b=m.data,x=m.loading;return Object(Y.jsxs)("div",{className:"lg:bg-gray-700 lg:h-screen flex flex-col items-center lg:justify-center",children:[Object(Y.jsx)(ce.a,{children:Object(Y.jsx)("title",{children:"Login | XON"})}),Object(Y.jsxs)("div",{className:"w-full max-w-screen-sm flex flex-col items-center px-5 mt-10 lg:mb-10",children:[Object(Y.jsx)(me.a,{icon:ue.a,className:"mb-5 text-5xl lg:text-white"}),Object(Y.jsx)("h4",{className:"w-full font-medium text-left mb-3 text-xl lg:text-white",children:"Welcome!"}),Object(Y.jsxs)("form",{className:"grid gap-3 py-3 w-full",onSubmit:i((function(){if(!x){var e=r(),t=e.email,a=e.password;j({variables:{loginInput:{email:t,password:a}}})}})),children:[Object(Y.jsx)("input",Object(C.a)(Object(C.a)({},s("email",{required:"Email is required",pattern:B})),{},{placeholder:"example@emaple.com",type:"email",className:"input"})),(null===(e=l.email)||void 0===e?void 0:e.message)&&Object(Y.jsx)(ve,{errorMessage:l.email.message}),Object(Y.jsx)("input",Object(C.a)(Object(C.a)({},s("password",{required:"Password is required",minLength:3})),{},{placeholder:"password",type:"password",className:"input"})),(null===(t=l.password)||void 0===t?void 0:t.message)&&Object(Y.jsx)(ve,{errorMessage:l.password.message}),"minLength"===(null===(a=l.password)||void 0===a?void 0:a.type)&&Object(Y.jsx)(ve,{errorMessage:"Password must be more than 3 chars."}),Object(Y.jsx)(pe,{canClick:o,loading:x,actionText:"Log In"}),(null===b||void 0===b?void 0:b.login.error)&&Object(Y.jsx)(ve,{errorMessage:b.login.error})]}),Object(Y.jsxs)("div",{className:"w-full text-center lg:text-white",children:["New to User?"," ",Object(Y.jsx)(X.b,{to:"/create-account",className:"lg:text-yellow-200 text-indigo-500 hover:underline",children:"create an Account!"})]})]})]})},Bt=function(){return Object(Y.jsx)(X.a,{children:Object(Y.jsxs)(H.c,{children:[Object(Y.jsx)(H.a,{path:"/create-account",children:Object(Y.jsx)(At,{})}),Object(Y.jsx)(H.a,{path:"/",exact:!0,children:Object(Y.jsx)(Lt,{})}),Object(Y.jsx)(H.a,{children:Object(Y.jsx)(de,{})})]})})};var qt=function(){return Object(R.a)(E)?Object(Y.jsx)(It,{}):Object(Y.jsx)(Bt,{})},Gt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,424)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};a(393);M.a.render(Object(Y.jsx)(S.a.StrictMode,{children:Object(Y.jsx)(y.a,{client:K,children:Object(Y.jsx)(ce.b,{children:Object(Y.jsx)(qt,{})})})}),document.getElementById("root")),Gt()}},[[394,1,2]]]);
//# sourceMappingURL=main.e5a6606f.chunk.js.map